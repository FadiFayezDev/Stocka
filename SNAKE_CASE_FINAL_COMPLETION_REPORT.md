# ?? ????? ??????? ?????? ??????? - Snake_Case Convention

## ? ??????: ????? ????? 100%

**???????:** ????  
**???????:** Stocka  
**???????:** .NET 10  
**????? ????????:** PostgreSQL  

---

## ?? ?????? ???????

### ? ??????? ??????: Dapper Query Repositories (21 ???)
- ????? `QueryRepository.cs` ?????? 22 ???? ?????? ???????
- ????? ???? Query Repositories ????????:
  - ????? ??????? ????? `snake_case`
  - `AS Alias` ?????? ????? ??? Properties
  - ????? ??????? ????? ?? ??????? ??????

**???????:** ? ????? - ?????: `DAPPER_SNAKE_CASE_UPDATE_REPORT.md`

---

### ? ??????? ???????: Entity Framework Configuration Files (22 ???)
- ????? ????? ??????? ?? `.ToTable()` ??? snake_case
- ????? ????? ??? Indexes ??? snake_case
- ????? ??? Filters ?? Indexes ???????? ????? ??????? ????? snake_case
- ?????? ?? ??????? ?? Migration

**???????:** ? ????? - ?????: `CONFIGURATIONS_SNAKE_CASE_UPDATE_REPORT.md`

---

## ?? ???????? ???????

```
?? Query Repositories Layer:
?? Base Repository: 1 ??? ......................... +22 ????
?? Query Repositories: 20 ??? ..................... ????? ????
?? ????????: 21 ???

?? Configuration Layer:
?? ??????? ?????: 7 ????? ........................ ?? ???????
?? ??????? Indexes: 2 ????? ..................... ?? ???????
?? ??????? Filters: 2 ????? ..................... ?? ???????
?? ????? ????? ??????: 13 ??? ................... ???? ?????
?? ????????: 22 ???

?? ???????? ?????: 43 ??? ?? ????? ????????
```

---

## ?? ????? ??????? ???????

### Dapper Query Repositories (21 ???):
```
? QueryRepository.cs (Base)
? AccountQueryRepository.cs
? BatchQueryRepository.cs
? BrandQueryRepository.cs
? BranchQueryRepository.cs
? CustomerQueryRepository.cs
? EmployeeQueryRepository.cs
? ExpenseCategoryQueryRepository.cs
? ExpenseQueryRepository.cs
? JournalEntryLineQueryRepository.cs
? JournalEntryQueryRepository.cs
? OrderItemQueryRepository.cs
? OrderQueryRepository.cs
? ProductCategoryQueryRepository.cs
? ProductQueryRepository.cs
? PurchaseItemQueryRepository.cs
? PurchaseQueryRepository.cs
? StockMovementQueryRepository.cs
? SupplierQueryRepository.cs
? WarehuseBatchQueryRepository.cs
? WarehouseQueryRepository.cs
? UserQueryRepository.cs
```

### Configuration Files (22 ???):
```
? BrandMembershipConfiguration.cs
? CustomerConfiguration.cs
? EmployeeConfiguration.cs
? OrdertemConfiguration.cs (OrderItemConfiguration)
? StockMovementConfiguration.cs
? WarehouseConfiguration.cs
? SupplierConfiguration.cs
? WarehouseBatchConfiguration.cs
? BrandConfiguration.cs
? ProductCategoryConfiguration.cs (???? ??????)
? ExpenseCategoryConfiguration.cs (???? ??????)
? ExpenseConfiguration.cs (???? ??????)
? JournalEntryConfiguration.cs (???? ??????)
? JournalEntryLineConfiguration.cs (???? ??????)
? AccountConfiguration.cs (???? ??????)
? UserPhoneNumberConfiguration.cs (???? ??????)
? PurchaseConfiguration.cs (???? ??????)
? PurchaseItemConfiguration.cs (???? ??????)
? ProductConfiguration.cs (???? ??????)
? BatchConfiguration.cs (???? ??????)
? OrderConfiguration.cs (???? ??????)
? BranchConfiguration.cs (???? ??????)
```

---

## ?? ??????? ???????

### 1. **Query Layer (Infrastructure\Repositories\Queries)**
```
????? ???????: PascalCase ? snake_case ?
Aliases ?? SELECT: AS PropertyName ?
????? ???????: ????? ?????? ?
```

**????:**
```csharp
// ???:
SELECT Id, BrandId, Name FROM Accounts WHERE Id = @Id

// ???:
SELECT id, brand_id AS BrandId, name AS Name FROM accounts WHERE id = @Id
```

### 2. **Configuration Layer (Infrastructure\Configurations)**
```
ToTable(): PascalCase ? snake_case ?
Indexes: PascalCase ? snake_case ?
Filters: PascalCase ? snake_case ?
```

**????:**
```csharp
// ???:
builder.ToTable("BrandMemberships");
builder.HasFilter("\"UserId\" IS NOT NULL");

// ???:
builder.ToTable("brand_memberships");
builder.HasFilter("\"user_id\" IS NOT NULL");
```

### 3. **Database Layer**
```
Migration: ? 20260218013438_UseSnakeCaseNamingConvention.cs
Convention: ? UseSnakeCaseNamingConvention()
```

---

## ? ???????? ???????????

### ? ??????:
- ? Solution builds successfully
- ? No compilation errors
- ? All projects compile

### ? Configuration:
- ? All 22 Configuration files are correct
- ? All table names use snake_case
- ? All indexes use snake_case
- ? All filters use snake_case

### ? Dapper Queries:
- ? All 21 Query Repositories updated
- ? All column names use snake_case
- ? All table constants are used
- ? All Aliases are correct

### ? Database Compatibility:
- ? Migration matches configurations
- ? PostgreSQL snake_case convention applied
- ? No conflicts or inconsistencies

---

## ?? ????? ???????? ????????

1. **DAPPER_SNAKE_CASE_UPDATE_REPORT.md**
   - ????? ???? ???????? Dapper Queries
   - 21 Query Repository ?? ?????
   - ??????? ? Patterns ?????????

2. **CONFIGURATIONS_SNAKE_CASE_ANALYSIS.md**
   - ????? ???? ?????? Configurations
   - ????? ???????? ???? ????? ?????
   - ?????? ?? ?????

3. **CONFIGURATIONS_SNAKE_CASE_UPDATE_REPORT.md**
   - ????? ???? ???????? Configuration Files
   - 22 ??? ?? ???? ?? ????
   - ????? ??????

---

## ?? ??????? ???????

? **??????? ?????** ?? `UseSnakeCaseNamingConvention()`  
? **?? ???? ?????** ?? Dapper Queries  
? **????? ???????** - ??????? ?????? ?? ???? ????  
? **??? ???????** - ???? ??????? ???????  
? **???? ???????** - ??????? ????? ????? ?? ??????? ??????  
? **???? ????** - Query Repositories ??????  

---

## ?? ???? ?????????

### ??? ???????:
```
????? ??????:
? ????? ????? ?????? (PascalCase vs snake_case)
? Dapper queries ?????? PascalCase
? Configuration files ??? ???????
? ??????? ??? ???????
```

### ??? ???????:
```
??????? ?????:
? ????? ????? ?? ???? ???????
? Dapper queries ?????? snake_case
? Configuration files ???????
? Migration ???? ?? ???
```

---

## ?? ?????? ???????

```
? ??????: ???
? ?????????: ?????
? ???????: 100%
? ??????: ??????
? ????????: ???
```

---

## ?? ??????? ???????

1. ? ????? Migration ??? ????? ????????
2. ? ?????? ??????? ???????
3. ? ?????? ?? ??? ???? ????? runtime
4. ? ??? ?????????

---

## ?? ??????? ????????

**? ????? ??????? ?????? ????? 100%**

???? ????? ??????? ????? ??????? `snake_case` ???? ????:
- ? Database Layer (PostgreSQL)
- ? EF Core Configuration
- ? Dapper Query Layer
- ? DTO Mappings
- ? API Endpoints

---

## ?? ???? ??????????

| ?????? | ????? | ?????? |
|---|---|---|
| Query Repositories | 21 | ? ???? |
| Configuration Files | 22 | ? ???? |
| Table Name Constants | 22 | ? ????? |
| Index Names | 2+ | ? ???? |
| Filter Conditions | 2+ | ? ???? |
| **????????** | **43+** | **?** |

---

**????? ???????:** ????  
**???????:** v1.0  
**??????:** ? ????? ?????  

?? **?? ????? ?????? ?????? ?????**

